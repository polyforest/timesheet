<!DOCTYPE html>
<html lang="en">
<head>
	<title>PolyForest® Time</title>
	<meta name="description" content="Simple Time Tracking via Google Sheets API">
	<meta charset="utf-8"/>
	<meta http-equiv='Content-Type' content='text/html; charset=UTF-8'>
	<meta name="viewport" content="initial-scale=1.0, width=device-width">
	<link href="default.css" type="text/css" rel="stylesheet">

	<link rel="icon" type="image/svg+xml" href="./favicon.svg">
	<link rel="mask-icon" href="./safari-pinned-tab.svg" color="#ef8e0c">
	<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>

<div id="auth">
	<img src="favicon.svg" height="64px">
	<h3 class="appTitle">PolyForest® Time</h3>
	<!--Add buttons to initiate auth sequence and sign out-->
	<button id="authorize_button" style="display: none;">Log In</button>
	<button id="signout_button" style="display: none;">Sign Out</button>
</div>

<div id="content">Loading...</div>
<div id="error"></div>

<script src="main.js"></script>

<script src="https://apis.google.com/js/api.js"></script>
<script>
	/**
	 * @param e Error
	 */
	function uncaughtErrorHandler(e) {
		console.error(e);
		ele("error").innerText = !!e.result ? e.result.error.message : e.message || e.details;
	}

	window.onerror = uncaughtErrorHandler;
	// load the auth2 library and API client library.
	gapi.load('client:auth2', () => {
		router();
		initClient().catch(uncaughtErrorHandler)
	});
</script>

</body>
</html>
